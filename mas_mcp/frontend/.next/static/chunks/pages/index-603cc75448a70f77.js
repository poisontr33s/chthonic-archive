(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{295:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});let l=a(4252)._(a(4232)),r=a(6581),s=[],n=[],i=!1;function d(e){let t=e(),a={loading:!0,loaded:null,error:null};return a.promise=t.then(e=>(a.loading=!1,a.loaded=e,e)).catch(e=>{throw a.loading=!1,a.error=e,e}),a}class o{promise(){return this._res.promise}retry(){this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};let{_res:e,_opts:t}=this;e.loading&&("number"==typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout(()=>{this._update({pastDelay:!0})},t.delay)),"number"==typeof t.timeout&&(this._timeout=setTimeout(()=>{this._update({timedOut:!0})},t.timeout))),this._res.promise.then(()=>{this._update({}),this._clearTimeouts()}).catch(e=>{this._update({}),this._clearTimeouts()}),this._update({})}_update(e){this._state={...this._state,error:this._res.error,loaded:this._res.loaded,loading:this._res.loading,...e},this._callbacks.forEach(e=>e())}_clearTimeouts(){clearTimeout(this._delay),clearTimeout(this._timeout)}getCurrentValue(){return this._state}subscribe(e){return this._callbacks.add(e),()=>{this._callbacks.delete(e)}}constructor(e,t){this._loadFn=e,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}}function u(e){return function(e,t){let a=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null},t),s=null;function d(){if(!s){let t=new o(e,a);s={getCurrentValue:t.getCurrentValue.bind(t),subscribe:t.subscribe.bind(t),retry:t.retry.bind(t),promise:t.promise.bind(t)}}return s.promise()}if(!i){let e=a.webpack&&1?a.webpack():a.modules;e&&n.push(t=>{for(let a of e)if(t.includes(a))return d()})}function u(e,t){d();let n=l.default.useContext(r.LoadableContext);n&&Array.isArray(a.modules)&&a.modules.forEach(e=>{n(e)});let i=l.default.useSyncExternalStore(s.subscribe,s.getCurrentValue,s.getCurrentValue);return l.default.useImperativeHandle(t,()=>({retry:s.retry}),[]),l.default.useMemo(()=>{var t;return i.loading||i.error?l.default.createElement(a.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:s.retry}):i.loaded?l.default.createElement((t=i.loaded)&&t.default?t.default:t,e):null},[e,i])}return u.preload=()=>d(),u.displayName="LoadableComponent",l.default.forwardRef(u)}(d,e)}function c(e,t){let a=[];for(;e.length;){let l=e.pop();a.push(l(t))}return Promise.all(a).then(()=>{if(e.length)return c(e,t)})}u.preloadAll=()=>new Promise((e,t)=>{c(s).then(e,t)}),u.preloadReady=e=>(void 0===e&&(e=[]),new Promise(t=>{let a=()=>(i=!0,t());c(n,e).then(a,a)})),window.__NEXT_PRELOADREADY=u.preloadReady;let m=u},2496:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var a in t)Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}(t,{default:function(){return i},noSSR:function(){return n}});let l=a(4252);a(7876),a(4232);let r=l._(a(295));function s(e){return{default:(null==e?void 0:e.default)||e}}function n(e,t){return delete t.webpack,delete t.modules,e(t)}function i(e,t){let a=r.default,l={loading:e=>{let{error:t,isLoading:a,pastDelay:l}=e;return null}};e instanceof Promise?l.loader=()=>e:"function"==typeof e?l.loader=e:"object"==typeof e&&(l={...l,...e});let i=(l={...l,...t}).loader;return(l.loadableGenerated&&(l={...l,...l.loadableGenerated},delete l.loadableGenerated),"boolean"!=typeof l.ssr||l.ssr)?a({...l,loader:()=>null!=i?i().then(s):Promise.resolve(s(()=>null))}):(delete l.webpack,delete l.modules,n(a,l))}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},5668:(e,t,a)=>{"use strict";a.r(t),a.d(t,{__N_SSP:()=>m,default:()=>h});var l=a(7876),r=a(4232),s=a(8847),n=a.n(s);let i=n()(()=>a.e(614).then(a.bind(a,4614)),{loadableGenerated:{webpack:()=>[4614]},ssr:!1}),d=n()(()=>Promise.all([a.e(697),a.e(718),a.e(801)]).then(a.bind(a,1801)),{loadableGenerated:{webpack:()=>[1801]},ssr:!1}),o=n()(()=>Promise.all([a.e(697),a.e(718),a.e(44)]).then(a.bind(a,5044)),{loadableGenerated:{webpack:()=>[5044]},ssr:!1}),u=n()(()=>a.e(264).then(a.bind(a,1264)),{loadableGenerated:{webpack:()=>[1264]},ssr:!1}),c=n()(()=>Promise.all([a.e(697),a.e(718),a.e(38)]).then(a.bind(a,5038)),{loadableGenerated:{webpack:()=>[5038]},ssr:!1});var m=!0;function h(){let[e,t]=(0,r.useState)(null),[a,s]=(0,r.useState)([]),[n,m]=(0,r.useState)(null),[h,f]=(0,r.useState)(!0),[p,b]=(0,r.useState)(!0),[_,y]=(0,r.useState)(null),[x,g]=(0,r.useState)(null),j=async()=>{try{let[e,a,l]=await Promise.all([fetch("/api/digest"),fetch("/api/cycles?limit=10"),fetch("/api/metrics")]);if(!e.ok||!a.ok)throw Error("Failed to fetch data");let r=await e.json(),n=await a.json();if(t(r),s(Array.isArray(n)?n:n.data||[]),g(new Date),y(null),l.ok){let e=await l.json();m(e)}b(!1)}catch(e){y(e instanceof Error?e.message:"Unknown error"),b(!1)}finally{f(!1)}};if((0,r.useEffect)(()=>{j();let e=setInterval(j,3e4);return()=>clearInterval(e)},[]),h)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-gray-400 text-xl",children:"Loading MAS-MCP Dashboard..."})});if(_)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"text-mas-error text-xl",children:["Error: ",_]})});if(!e)return(0,l.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsx)("div",{className:"text-gray-400 text-xl",children:"No data available"})});let v=e.generated>0?(e.accepted/e.generated*100).toFixed(1):"0.0",w=parseFloat(v)>=35?"success":parseFloat(v)>=20?"warning":"error";return(0,l.jsxs)("main",{className:"min-h-screen p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h1",{className:"text-3xl font-bold text-gray-100",children:"\uD83C\uDFDB️ MAS-MCP Genesis Dashboard"}),(0,l.jsx)("p",{className:"text-gray-500 mt-1",children:"GPU: CUDA+TensorRT | Bun: v1.3.4"})]}),(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsx)("span",{className:"badge-success",children:"● Connected"}),x&&(0,l.jsxs)("p",{className:"text-gray-500 text-sm mt-1",children:["Updated: ",x.toLocaleTimeString()]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[(0,l.jsx)(i,{title:"Total Cycles",value:e.total_cycles,status:"neutral"}),(0,l.jsx)(i,{title:"Generated",value:e.generated,status:"neutral"}),(0,l.jsx)(i,{title:"Accepted",value:e.accepted,status:"success"}),(0,l.jsx)(i,{title:"Acceptance Rate",value:"".concat(v,"%"),subtitle:parseFloat(v)>=35?"SLO Met":"Below SLO (35%)",status:w})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[(0,l.jsx)(d,{cycles:a}),(0,l.jsx)(o,{digest:e})]}),(0,l.jsx)("div",{className:"mb-8",children:(0,l.jsx)(c,{metrics:n,isLoading:p})}),(0,l.jsxs)("div",{className:"mb-8",children:[(0,l.jsx)("h2",{className:"text-xl font-bold text-gray-100 mb-4",children:"Recent Cycles"}),(0,l.jsx)(u,{cycles:a})]}),(0,l.jsx)("footer",{className:"text-center text-gray-600 text-sm py-4 border-t border-gray-800",children:"MAS-MCP Genesis Dashboard • Bun-Native Runtime • No Node Fallback"})]})}},6581:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"LoadableContext",{enumerable:!0,get:function(){return l}});let l=a(4252)._(a(4232)).default.createContext(null)},6760:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(5668)}])},8847:(e,t,a)=>{e.exports=a(2496)}},e=>{e.O(0,[636,593,792],()=>e(e.s=6760)),_N_E=e.O()}]);